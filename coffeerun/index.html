<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>CoffeeRun</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha512-nNo+yCHEyn0smMxSswnf/OnX6/KwJuZTlNZBjauKhTK0c+zT+q5JOCx0UFhXQ6rJR9jg6Es8gPuD2uZcYDLqSw==" crossorigin="anonymous" referrerpolicy="no-referrer"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js" integrity="sha512-AFwxAkWdvxRd9qhYYp1qbeRZj6/iTNmJ2GFwcxsMOzwwTaRwz2a/2TX225Ebcj3whXte1WGQb38cXE5j7ZQw3g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <style>
        form :focus:required:invalid {
          border-color: #a94442;
        }
    </style>

    <script src="scripts/validation.js" defer></script>
    <script src="scripts/checklist.js" defer></script>
    <script src="scripts/formhandler.js" defer></script>
    <script src="scripts/remotedatastore.js" defer></script>
    <script src="scripts/datastore.js" defer></script>
    <script src="scripts/truck.js" defer></script>
    <script src="scripts/main.js" defer></script>
  </head>

  <body class="container">
      <header>
        <h1>CoffeeRun</h1>
      </header>
      <section>
        <div class="panel panel-default">
          <div class="panel-body">
            <form data-coffee-order="form">
              <div class="form-group">
                <label for="coffeeOrder">Coffee Order</label><br>
                <input class="form-control" name="coffee" id="coffeeOrder" autofocus required pattern="[a-zA-z\s]+">

              <div class="form-group">
                <label for="emailInput">Email</label>
                <input class="form-control" type="email" name="emailAddress" id="emailInput" value="" placeholder="email@address.com" required>
              </div>

              <div class="radio">
                <label>
                  <input type="radio" name="size" value="short">
                  Short
                </label>
              </div>
              <div class="radio">
                <label>
                  <input type="radio" name="size" value="tall" checked>
                  Tall
                </label>
              </div>
              <div class="radio">
                <label>
                  <input type="radio" name="size" value="grande">
                  Grande
                </label>
              </div>
              <div class="radio">
                <label>
                  <input type="radio" name="size" value="monsterextra">
                  MonsterExtra
                </label>
              </div>

              <div class="form-group">
                <label for="flavorShot">Flavor Shot</label>
                <select id="flavorShot" class="form-control" name="flavor">
                  <option value="">None</option>
                  <option value="caramel">Caramel</option>
                  <option value="vanilla">Vanilla</option>
                  <option value="mocha">Mocha</option>
                </select>
              </div>

              <div class="form-group">
                <label for="strengthLevel">Caffeine Rating</label>
                <div class="range-value" id="strengthLevels" style="background: linear-gradient(to right,hsl(120,100%,50%),hsl(60,100%,50%),hsl(0,100%,50%));"></div>
                <input id="strengthLevel" type="range" name="strength" value="50" min="0" max="100" step="1">
              </div>

              <button type="submit" class="btn btn-default">Submit</button>
              <button type="reset" class="btn btn-default">Reset</button>

              </div>
            </form>
          </div>
        </div>

              <div class="panel panel-default">
                <div class="panel-body">
                  <h4>Pending Orders:</h4>
                    <div data-coffee-order="checklist">
                    </div>
                </div>
              </div>


      </section>

      <script>
      const
          range = document.getElementById('strengthLevel'),
          rangeV = document.getElementById('strengthLevels'),
          setValue = ()=>{
            const
              newValue = Number( (range.value - range.min) * 100 / (range.max - range.min) ),
              newPosition = 10 - (newValue * 0.2);
            rangeV.innerHTML = `<span>${range.value}</span>`;
            rangeV.style.left = `calc(${newValue}% + (${newPosition}px))`;
          };
        document.addEventListener("DOMContentLoaded", setValue);
        range.addEventListener('input', setValue);

      </script>

  </body>
</html>
